    - name: Sign APK
      run: |
        echo "üîê –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º APK..."
        cd android/app/build/outputs/apk/release/
        
        # –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê
        echo "=== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ï–ö–†–ï–¢–ê ==="
        echo "KEYSTORE_BASE64: $KEYSTORE_BASE64"
        echo "–î–ª–∏–Ω–∞ KEYSTORE_BASE64: ${#KEYSTORE_BASE64}"
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ–∫—Ä–µ—Ç –≤ —Ñ–∞–π–ª –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
        echo "$KEYSTORE_BASE64" > secret.txt
        echo "–†–∞–∑–º–µ—Ä secret.txt: $(wc -c < secret.txt)"
        echo "–ü–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤:"
        head -c 100 secret.txt
        echo ""
        echo "–ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å–∏–º–≤–æ–ª–æ–≤:"
        tail -c 100 secret.txt
        echo ""
        
        # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã base64
        echo "=== –ü–†–û–ë–£–ï–ú BASE64 ==="
        base64 -d secret.txt > keystore.jks 2>&1 || echo "‚ùå –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π base64 –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        if [ -f keystore.jks ] && [ -s keystore.jks ]; then
          echo "‚úÖ Keystore —Å–æ–∑–¥–∞–Ω! –†–∞–∑–º–µ—Ä: $(wc -c < keystore.jks) bytes"
          # –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º APK
          jarsigner -verbose -sigalg SHA256withRSA -digestalg SHA-256 \
            -keystore keystore.jks \
            -storepass "$KEYSTORE_PASSWORD" \
            -keypass "$KEY_PASSWORD" \
            app-release.apk \
            "$KEY_ALIAS"
          echo "‚úÖ APK –ø–æ–¥–ø–∏—Å–∞–Ω!"
        else
          echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å keystore"
          echo "–ü–†–û–ë–õ–ï–ú–ê: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π base64 –≤ KEYSTORE_BASE64"
        fi
      env:
        KEYSTORE_BASE64: ${{ secrets.KEYSTORE_BASE64 }}
        KEYSTORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}
        KEY_PASSWORD: ${{ secrets.KEY_PASSWORD }}
        KEY_ALIAS: ${{ secrets.KEY_ALIAS }}
